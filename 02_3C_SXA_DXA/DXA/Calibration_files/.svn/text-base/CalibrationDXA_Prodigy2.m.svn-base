%PA calibration
Data=[...
2	0	896.4	716.34;...
2	50	1023.4	786.34;...
2	100	1173.4	861.34;...
10	0	4807.4	3811.34;...
10	50	5372.4	4071.34;...
10	100	6010.4	4370.34;...
20	0	9503.4	7492.34;...
20	50	10579.4	8052.34;...
20	100	11683.4	8652.34;...
2	0	904	728;...
2	50	1033	791;...
2	100	1174	866;...
10	0	4813	3817;...
10	50	5389	4074;...
10	100	6008	4391;...
20	0	9475	7526;...
20	50	10633	8071;...
20	100	11704	8641;...
2	0	986.5	768.39;...
2	30	1047.5	806.39;...
2	45	1072.5	822.39;...
2	50	1098.5	835.39;...
2	60	1128.5	843.39;...
2	70	1149.5	860.39;...
2	100	1233.5	907.39;...
4	0	1975.5	1557.39;...
4	30	2112.5	1632.39;...
4	45	2161.5	1657.39;...
4	50	2198.5	1666.39;...
4	60	2257.5	1696.39;...
4	70	2302.5	1718.39;...
4	100	2480.5	1803.39;...
6	0	2971.5	2346.39;...
6	30	3159.5	2436.39;...
6	45	3243.5	2459.39;...
6	50	3299.5	2496.39;...
6	60	3382.5	2542.39;...
6	70	3450.5	2573.39;...
6	100	3698.5	2696.39;...
10	0	4857.5	3846.39;...
10	30	5187.5	3983.39;...
10	45	5323.5	4017.39;...
10	50	5402.5	4081.39;...
10	60	5532.5	4153.39;...
10	70	5634.5	4177.39;...
10	100	6028.5	4370.39];


Data(:,3)=Data(:,3)/1000;
Data(:,4)=Data(:,4)/1000;
Data(:,3)=Data(:,3)./Data(:,4);
B=[Data(:,1) Data(:,2)];
A=[ones(size(Data,1),1) Data(:,3) Data(:,4) Data(:,3).^2 Data(:,4).^2 Data(:,3).*Data(:,4)];
X=A\B

Result=A*X
figure;plot(Result(:,2),'o');hold on;
plot(Data(:,2),'x');

%dev = (sum((Data(:,2)-Result(:,2)).^2)./size(Data,1)).^0.5
dev_thickness = (sum((Data(:,1)-Result(:,1)).^2)./size(Data,1)).^0.5
dev_density = (sum((Data(:,2)-Result(:,2)).^2)./size(Data,1)).^0.5

%1	0	445.5	342.39;...
%1	30	475.5	355.39;...
%1	45	483.5	360.39;...
%1	50	498.5	366.39;...
%1	60	507.5	373.39;...
%1	70	518.5	376.39;...
%1	100	559.5	402.39;...
