function [output, outputFeature_id]=feat_location(imageObj,maskObj,inputParam)
switch inputParam.main_func.parameter_1
    case 'ABS'
        posOffset=[0,0];
    case 'RELNIP'
        posOffset=imageObj.midnip;
    otherwise
        error('feat_sum:BADPARAM', 'Unrecognized parameter');
end
switch inputParam.main_func.parameter_2
    case 'PIXELS'
        posScale=1;
    case 'MM'
        posScale=imageObj.resolution;
    otherwise
        error('feat_sum:BADPARAM', 'Unrecognized parameter');
end
switch inputParam.main_func.parameter_3
    case 'CENTROID'
        stats=regionprops(maskObj.roiMask, 'Centroid');
        roiPos=stats.Centroid+[maskObj.xmin,maskObj.ymin];
        %Please note that I'm assuming that a roi must be contiguous.
    otherwise
        error('feat_sum:BADPARAM', 'Unrecognized parameter');
end
switch inputParam.main_func.parameter_4;
    case 'YVAL'
        output=(roiPos(1)-posOffset(1))*posScale;
    case 'XVAL'
        output=(roiPos(2)-posOffset(2))*posScale;
end
outputFeature_id=inputParam.sub_func{1}.feature_id;
end